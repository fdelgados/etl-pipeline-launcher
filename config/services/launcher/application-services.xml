<?xml version="1.0" encoding="utf-8" standalone="no"?>

<services>
    <service id="launcher.pipeline.application.launch.pipeline_launcher.pipeline_launcher"
             class="launcher.pipeline.application.launch.pipeline_launcher.PipelineLauncher">
        <argument name="pipeline_repository" value="launcher.pipeline.domain.model.pipeline.pipeline_repository" type="service" />
    </service>

    <service id="launcher.pipeline.application.extract.listeners.pipeline_launched_listener"
             class="launcher.pipeline.application.extract.listeners.PipelineLaunchedListener">
        <argument name="extract_data_service" value="launcher.pipeline.application.extract.data_extractor" type="service"/>
    </service>

    <service id="launcher.pipeline.application.extract.data_extractor"
             class="launcher.pipeline.application.extract.data_extractor.DataExtractor">
        <argument name="pipeline_repository" value="launcher.pipeline.domain.model.pipeline.pipeline_repository" type="service"/>
        <argument name="page_repository" value="launcher.pipeline.domain.model.document.page_repository" type="service"/>
        <argument name="scraper" value="launcher.pipeline.domain.service.scraping.scraper" type="service"/>
        <argument name="sitemap_scraper" value="launcher.pipeline.domain.service.scraping.sitemap_scraper" type="service"/>
        <argument name="logger" value="shared.domain.service.logging.logger.logger" type="service"/>
        <argument name="progress_bar" value="shared.domain.service.logging.progress_bar" type="service"/>
    </service>

    <service id="launcher.pipeline.application.transform_load.data_transformer"
             class="launcher.pipeline.application.transform_load.data_transformer.DataTransformer"/>

    <service id="launcher.pipeline.application.transform_load.listeners.transform_data_on_extraction_completed"
             class="launcher.pipeline.application.transform_load.listeners.TransformDataOnExtractionCompleted">
        <argument name="data_transformer_service" value="launcher.pipeline.application.transform_load.data_transformer" type="service" />
    </service>
</services>
