<?xml version="1.0" encoding="utf-8" standalone="no"?>

<services>
    <service id="duplicates.report.application.report_creator.report_creator_command_handler"
             class="duplicates.report.application.report_creator.ReportCreatorCommandHandler">
        <argument name="logger" value="shared.domain.service.logging.logger.logger" type="service"/>
        <argument name="report_repository" value="duplicates.report.domain.model.report.report_repository" type="service"/>
        <argument name="event_bus" value="shared.domain.bus.event.event_bus" type="service"/>
    </service>

    <service id="duplicates.data.application.transformer.wrangle_data_on_report_created"
             class="duplicates.data.application.wrangler.WrangleDataOnReportCreated">
        <argument name="data_gatherer" value="duplicates.data.domain.service.datagatherer.data_gatherer" type="service" />
        <argument name="data_transformer" value="duplicates.data.domain.service.datatransformer.data_transformer" type="service" />
        <argument name="transformed_page_content_repository" value="duplicates.shared.domain.model.transformedpagecontent.transformed_page_content_repository" type="service" />
        <argument name="report_repository" value="duplicates.report.domain.model.report.report_repository" type="service"/>
        <argument name="event_bus" value="shared.domain.bus.event.event_bus" type="service" />
    </service>

    <service id="duplicates.report.application.identity_generator.next_identity_query_handler"
             class="duplicates.report.application.identity_generator.NextIdentityQueryHandler">
        <argument name="report_repository" value="duplicates.report.domain.model.report.report_repository" type="service"/>
    </service>

    <service id="duplicates.similarity.application.similarity.calculate_similarities_on_data_loaded"
             class="duplicates.similarity.application.similarity.CalculateSimilaritiesOnDataLoaded">
        <argument name="report_repository" value="duplicates.report.domain.model.report.report_repository" type="service"/>
        <argument name="similarity_calculator" value="duplicates.similarity.domain.service.similaritycalculator.similarity_calculator" type="service"/>
    </service>
</services>
